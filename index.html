<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>clone-story by mjelks</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>clone-story</h1>
          <h2>Clone/Duplicate a Pivotal Ticket Story via a JavaScript bookmarklet.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/mjelks/clone-story/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/mjelks/clone-story/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/mjelks/clone-story" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="clone-story" class="anchor" href="#clone-story"><span class="octicon octicon-link"></span></a>clone-story</h1>

<p>Clones a Pivotal Ticket Story via a JavaScript bookmarklet.</p>

<p>This is a known issue over at Pivotal and it appears they may eventually get around to implementing it themselves sometime in 2014 per this discussion:</p>

<p><a href="http://community.pivotaltracker.com/pivotal/topics/new_feature_duplicate_story">http://community.pivotaltracker.com/pivotal/topics/new_feature_duplicate_story</a></p>

<p>This JavaScript bookmarklet was created to deal with a minor annoyance with PivotalTracker when attempting to do iteration planning and wanting to clone a bunch of tickets when creating stories.</p>

<p>I decided to go with a bookmarklet approach because I use Safari and don't enjoy installing plugins if not totally necessary. </p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<ul>
<li>copy source from bookmarklet.js</li>
<li>create new bookmark in your browser</li>
<li>paste code into the 'address' field</li>
</ul><h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>The bookmarklet duplicates the Pivotal Tracker story that is currently selected via a focus on the textarea. It will prompt you if you have not selected the text field of the ticket you wish to duplicate/clone.</p>

<p><img src="https://raw.github.com/mjelks/pivotaltracker-clone-story/master/img/screen1.png" alt="Example of Usage" title="Usage Example (Screenshot 1)"></p>

<h2>
<a name="compatibility" class="anchor" href="#compatibility"><span class="octicon octicon-link"></span></a>Compatibility</h2>

<p>Tested in the latest version of Chrome and Safari 6.1. You will need at least Safari 6.0+ as I believe that is that first version that supports the MutationObserver. Here is a handy chart with the latest support:</p>

<p><a href="http://caniuse.com/mutationobserver">http://caniuse.com/mutationobserver</a></p>

<h2>
<a name="current-issues" class="anchor" href="#current-issues"><span class="octicon octicon-link"></span></a>Current Issues</h2>

<ul>
<li>This is heavily reliant on jQuery and specific selectors. I can imagine this will break if the selector(s) change. Any better approaches would be appreciated, but this is a quick solution.</li>
<li>Currently the bookmarklet may behave strangely due to the MutationObserver(). I am currently unable to run the .disconnect() method without it not working (?)</li>
<li>copying owner. I need to add another function to handle that. any other fields should be added as additional functions and added as part of the observer method. Make sure to add any values to the json object that gets passed to the hidden field.</li>
</ul><h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>If you want to alter this code (totally fine as it's under the MIT license), please start at the source.js file. Feel free to modify that since it is nicely commented. I have created a perl script that will strip out comments and console.log statements and is used to generate the final bookmarklet.js file. To execute simply run the command:</p>

<pre><code>perl compile.pl
</code></pre>

<p>from the source repo location.</p>
        </section>

        <footer>
          clone-story is maintained by <a href="https://github.com/mjelks">mjelks</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-220358-9");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>